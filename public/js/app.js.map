{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(($) ->\r\n\r\n  $.fn.modal_success = ->\r\n# close modal\r\n    @modal 'hide'\r\n    # clear form input elements\r\n    @find('form input[type=\"text\"], form input[type=\"number\"]').val ''\r\n    # clear error state\r\n    @clear_previous_errors()\r\n    return\r\n\r\n  $.fn.render_form_errors = (errors) ->\r\n    $form = this\r\n    @clear_previous_errors()\r\n    model = @data('model')\r\n    $.each errors, (field, messages) ->\r\n      $input = $('input[name=\"' + model + '[' + field + ']\"]')\r\n      $input.closest('.form-group').addClass('has-error').find('.help-block').html messages.join(' & ')\r\n      return\r\n    return\r\n\r\n  $.fn.clear_previous_errors = ->\r\n    $('.form-group.has-error', this).each ->\r\n      $('.help-block', $(this)).html ''\r\n      $(this).removeClass 'has-error'\r\n      return\r\n    return\r\n\r\n  return\r\n) jQuery\r\n\r\nString.prototype.ucfirst = ->\r\n  @split('').map((char, i) -> unless i then char.toUpperCase() else char).join('')\r\n\r\nString.prototype.ucwords = ->\r\n  @split(' ').map((word) -> word.ucfirst()).join(' ')\r\n\r\n$ ->\r\n\r\n  $('.select2')\r\n  .select2\r\n      language: \"ru\"\r\n      minimumResultsForSearch: 20\r\n      allowClear: true\r\n      placeholder: \"Выбрать значение\"\r\n  $('.select2-tags')\r\n  .select2\r\n      language: \"ru\"\r\n      minimumResultsForSearch: 20\r\n      allowClear: true\r\n      placeholder: \"Выбрать значение\"\r\n      tags: true\r\n      createTag: (params) ->\r\n        term = $.trim(params.term)\r\n        return null if term == ''\r\n        return {\r\n          id: term\r\n          text: term\r\n          newTag: true\r\n        }\r\n\r\n  $('.clockpicker')\r\n  .clockpicker\r\n      autoclose: true\r\n\r\n  $('.autoselect2').each (i, e) =>\r\n    select = $(e)\r\n    options =\r\n      language: \"ru\"\r\n      placeholder: select.data('placeholder')\r\n      minimumInputLength: 2\r\n      allowClear: true\r\n    options.ajax =\r\n      url: select.data('source')\r\n      dataType: 'json'\r\n      delay: 250\r\n      data: (params) ->\r\n        q: params.term\r\n      processResults: (data, params) ->\r\n        results: data.resources\r\n    options.dropdownCssClass = 'bigdrop'\r\n    select.select2(options)\r\n\r\n  $('.datepicker')\r\n  .datepicker\r\n      format: 'dd.mm.yyyy'\r\n      todayHighlight: true\r\n      weekStart: 1\r\n      language: \"ru\"\r\n      autoclose: true\r\n\r\n  $('#modal-submit').on 'click', ->\r\n    $(this).closest('form').submit();\r\n\r\n#  $(document).bind 'ajaxError', 'form#new_position', (event, jqxhr, settings, exception) ->\r\n#    $(event.data).render_form_errors $.parseJSON(jqxhr.responseText)"],"sourceRoot":"/source/"}